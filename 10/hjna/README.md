# 애플리케이션 프로그래밍과 시스템 프로그래밍

## 문맥 전환

저장하고 복구해야 하는 모든 내용을 프로세스 문맥이라고 한다.

물리적 장치와 관련한 처리를 담당하는 장치 드라이버는 터미널에서 들어오는 문자를 버퍼에 저장하고 사용자가 키를 누를 때가 아니라 ENTER를 누를 때에만 사용자 프로그램을 깨운다.

버퍼는 선입선출 데이터 구조이다.

스택과 마찬가지로 FIFO도 공간을 다 쓰면 오버플로가 일어나고, 빈 큐에서 원소를 꺼내려고 시도하면 언더플로가 일어난다.

사용자 키 입력은 프로그램이 디스플레이에 보내는 출력보다 느리기 때문에 입력 버퍼 외에도 출력 버퍼가 필요하다.

드라이버 설정을 변경하기 위해 시스템 콜을 사용할 수 있는데 이를 통해 에코를 끄거나 켤 수 있고, 버퍼링을 끄거나 켤 수 있으며 버퍼링이 꺼져 있는 경우를 로(raw) 모드라고 하며, 버퍼링이 켜져 있는 경우를 쿡드 모드 라고 부른다.


## 표준 I/O

표준 입력 / 출력 라이브러리에는 사용자 프로그램이 쓸 수 있는 버퍼 I/O 함수가 있다(stdio)

stdio 라이브러리는 버퍼 입력을 지원한다. 버퍼 입력을 사용하면 시스템 콜을 한 번만 사용해 장치 드라이버에서 읽은 데이터를 버퍼에 넣을 수 있다. 사용자 프로그램은 버퍼가 빌 때까지 버퍼에서 입력 문자를 얻는다. 버퍼가 소진되면 다시 시스템 콜을 통해 입력을 더 가져온다.

## 원형 버퍼

원형 버퍼, 원형 큐라고 부르며 처음과 끝이 연결된 형태의 큐로, 마지막 위치에서 삽입 또는 삭제 연산이 이루어지면 처음 위치로 돌아가는 자료구조

