[# 9장 웹 브라우저

## 마크업 언어

- 본문과 구분할 수 있는 마크를 추가할 수 있는 시스템
- 웹 페이지는 그냥 텍스트 파일이며 아무 편집기나 쓰면 됨
- GML -> SGML -> XML(SGML의 더 실용적인 서브셋), HTML
- XHTML은 HTML을 변형한 형태. XML 규칙을 준수하도록 만들어짐.(엄격한 규칙 준수 요구)

## URL

- 브라우저는 URL 사용해 월드 와이드 웹에 HTTP 프로토콜을 통해 문서를 요청하고 응답을 받음
- 이때, 사용되는 문서는 HTML을 사용해 작성됐지만 현재는 다양한 언어가 사용됨
- URL 구조
    - 스킴://사용자이름:비밀번호@호스트이름:포트/경로?파라미터#프래그먼트

## HTML 문서

- 하이퍼텍스트: 웹페이지 등 다른 대상에 대한 링크가 들어 있는 텍스트
- HTML은 하이퍼 텍스트를 활용함
- 엔티티 참조: 문자를 다른 문자열로 표현하는 방법 ex) '>' => '&lt;'
- XHTML은 닫는 태그 반드시 사용. 닫는 태그가 없는 '빈 태그'는 `<tag />`와 같이 사용

## DOM: 문서 객체 모델

- 웹브라우저는 문서를 DOM에 따라 처리
- 엘리먼트 구조를 트리 형태로 바꾸면 DAG(유향 비순환 그래프) 형태의 파스 트리가 됨
- DOM 파스 트리를 직접 명령어로 만들지는 않음
- 깊이 우선 순회(스택 사용)를 통해 순회하며 트리 해석

## CSS

- 화면의 시각적 효과가 중요해짐 -> HTML 작성하는 사람이 페이지가 표시되는 모습을 더 세밀하게 조정할 수 있도록 갖가지 기능이 추가됨
- HTML에는 이미 스타일 정보가 들어있음
    - but, 이는 웹을 지저분하게 만들고, 웹 페이지가 여러 장치에 표시될 수 있기에 이런 방법이 잘 통하지 않음
    - CSS(캐스케이딩 스타일 시트): HTML에서 스타일 정보를 분리해서 HTML을 한번만 작성해도 장치에 따라 여러 스타일을 적용 가능
    - 엘리먼트와 애트리뷰트를 표현하는 '복합 데이터 타입' 존재
    - CSS 셀렉터로 DOM 엘리먼트 위치를 지정
    - CSS는 원래 속성과 엘리먼트를 연관시키는 더 유연한 메커니즘 제공을 위해 고안됨
        - 원래 HTML에는 없던 속성이 추가되기도 함 -> 예전 방식의 속성 설정을 더 사용하지 않을 수는 없음

## XML 등의 마크업 언어

- XML: 일반적인 용도의 마크업 언어. 누구나 새로 정의 할 수 있고, 다양한 응용 분야 있음.
- 엘리먼트 태그 앞에 접두사(이름 공간)를 붙여서 새로 정의한 엘리먼트를 다른 엘리먼트와 구분할 수 있음
    - xml 엘리먼트의 xmlns 속성은 이름 공간 접두사와 URL을 연결해줌
- 커스텀 마크업 언어를 더 잘 이해할 수 있게 해주는 도구들
    - DTD - 허용되는 태그를 기술할 수 있음
    - XPath - XML 문서에 대한 셀렉터 제공. CSS 셀렉터와 호환 불가
    - XSLT - XML에 바탕을 둔 또 다른 언어
        - XPath와 XSLT를 결합하면 XML 문서를 표현한 파스 트리를 검색, 변형시킴으로써 XML 문서의 일부분을 다른 형태로 변환하는 XML 문서 조각 작성 가능
        - 임의의 데이터가 들어 있는 마크업을 브라우저에 표현하기 위해 HTML로 변환하고 싶을 때 유용함

## 자바스크립트(ECMA스크립트)

- 넷스케이프가 95년에 자바스크립트 언어 소개
- ECMA 인터내셔널 표준 위원회에서 표준화
- AJAX(비동기 자바스크립트와 XML)을 통해 서버와 상호작용
- DOM 조작 함수가 많의 정의돼있음 -> CSS 스타일변경, 노드 재배치 등 여러 가지 동작 가능

## jQuery

- DOM 함수의 문제점(웹 표준의 등장 이전 문제)
    - 브라우저마다 DOM 함수 동작이 다를 수 있음
    - DOM 함수는 사용하기 상당히 불편
- jQuery: 존 레식이 만든 라이브러리
    - 브라우저 사이의 불일치를 메꿔주고 쉬운 조작 인터페이스 제공

## SVG

- 크기 변경이 가능한 벡터 그래픽스.
- 멋진 그래픽과 텍스트를 만들 수 있도록 지원하는 마크업 언어
    - but, 다른 마크업 언어와 완전히 다름
- 포스트스크립트의 이식성 문제를 해겨하기 위해 이식 가능한 문서 형식(PDF)가 만들어짐
- SVG는 브라우저에 PDF를 욱여넣은 것과 비슷(그렇다고 PDF와 SVG 사이에 호환성은 없음)
- 캔버스 엘리먼트보다 더 자동 - 무엇을 그릴지 지시하면 그대로 그림이 그려짐

## HTML5

- 시멘틱 엘리먼트(header, footer 등)가 추가됨
- 캔버스 엘리먼트 추가됨
    - SVG는 기존 DOM 함수를 사용해 조작, 캔버스 태그는 캔버스를 위해 만들어진 새로운 자바스크립트 함수를 통해 조작해야 함
- audio, video 엘리먼트 추가

## JSON

- 현재는 AJAX의 X는 XML이 아니라 JSON으로 바뀌어야 함(JSON으로 통신)
- JSON(JavaScript Object Notation): 자바스크립트 객체를 사람이 읽기 쉬운 방식으로 표현한 것
    - JSON 명세에 문제가 있어서 몇몇 문자를 안 쓴다든지 하는 표준에 없는 규칙을 지켜야 데이터 교환이 가능
    - JSON이 모든 자파스크립트 데이터 타입을 지원하지 않아 가끔 이를 우회해야 할 때가 있음
    - 자바스크립트 객체를 JSON 형식으로 손쉽게 바꿀 수 있음
    - XML보다 더 편리함
    - eval 함수는 데이터인 JSON을 자바스크립트 프로그램인 것 처럼 직접 실행 가능
    - JSON을 안전하게 자바스크립트 객체로 되돌릴 수 있는 JSON.parse() 함수가 추가됨